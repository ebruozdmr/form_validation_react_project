{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\EbruL\\\\Desktop\\\\Form Validation Project\\\\src\\\\components\\\\Login\\\\Login.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useReducer, useContext, useRef } from 'react';\nimport Card from '../UI/Card/Card';\nimport classes from './Login.module.css';\nimport Button from '../UI/Button/Button';\nimport AuthContext from '../../store/auth-context';\nimport Input from '../UI/Input/Input'; //reducer function should return the new updated state\n//reducer function receives the latest state\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst emailReducer = (state, action) => {\n  if (action.type === 'USER_INPUT') {\n    return {\n      value: action.value,\n      isValid: action.value.includes('@')\n    };\n  }\n\n  if (action.type === 'INPUT_BLUR') {\n    return {\n      value: state.value,\n      isValid: state.value.includes('@')\n    };\n  } //default= the field is red\n\n\n  return {\n    value: '',\n    isValid: false\n  };\n};\n\nconst passwordReducer = (state, action) => {\n  if (action.type === 'USER_INPUT') {\n    return {\n      value: action.value,\n      isValid: action.value.trim().length > 6\n    };\n  }\n\n  if (action.type === 'INPUT_BLUR') {\n    return {\n      value: state.value,\n      isValid: state.value.trim().length > 6\n    };\n  } //default= the field is red\n\n\n  return {\n    value: '',\n    isValid: false\n  };\n};\n\nconst Login = () => {\n  _s();\n\n  /* const [enteredEmail, setEnteredEmail] = useState('')\n     const [emailIsValid, setEmailIsValid] = useState()  */\n\n  /* const [enteredPassword, setEnteredPassword] = useState('')\n     const [passwordIsValid, setPasswordIsValid] = useState() */\n  const [formIsValid, setFormIsValid] = useState(false); //Reducer hook structure yönünden state hook'a benzer, ancak onun genişletilmiş halidir.\n  //Reducer hook sayesinde email ve password için yapılan durum kontrolleri tek bir yerden yönetilmiştir.\n  //Reducer Hook for email\n\n  const [emailState, dispactEmail] = useReducer(emailReducer, {\n    //initial State\n    value: '',\n    isValid: null\n  }); //Reducer Hook for password\n\n  const [passwordState, dispatchPassword] = useReducer(passwordReducer, //initial State\n  {\n    value: '',\n    isValid: null\n  });\n  const ctx = useContext(AuthContext);\n  const emailInputRef = useRef();\n  const passwordInputRef = useRef();\n  /* Related state'lerde effect hook kullanılması gerekir.(değişikliklerin kontrolü için garanti yol) \n     Çünkü bir state'de değişiklik yapılacağı zaman diğer state'in değeri güncellenmemiş olabilir.\n     Effect hook, depedency'lerde bir değişiklik olmadığı sürece içerisindeki kodları çalıştırmaz. */\n\n  useEffect(() => {\n    //setTimeout metodu, işlemler için gecikme veya delay imkanı sağlar.\n    const identifier = setTimeout(() => {\n      console.log('Checking from validity!');\n      setFormIsValid(emailState.isValid && passwordState.isValid);\n    }, 500);\n    return () => {\n      console.log('Cleanup');\n      /*clearTimout metodu setTimeout metodu ile zamanlanmış bir işlemin \n      iptal edilmesi için kullanılan bir metottur.*/\n\n      clearTimeout(identifier);\n    };\n  }, [emailState.isValid, passwordState.isValid]);\n\n  const emailChangeHandler = event => {\n    //dispatch user input action\n    dispactEmail({\n      type: 'USER_INPUT',\n      value: event.target.value\n    }); //setFormIsValid(event.target.value.includes('@') && passwordState.isValid)\n  };\n\n  const passwordChangeHandler = event => {\n    //dispatch user password action\n    dispatchPassword({\n      type: 'USER_INPUT',\n      value: event.target.value\n    }); //setFormIsValid(emailState.isValid && event.target.value.trim().length > 6)\n  };\n\n  const validateEmailHandler = () => {\n    //dispatch validating of user input action\n    dispactEmail({\n      type: 'INPUT_BLUR'\n    }); //setFormIsValid(emailState.isValid && passwordState.isValid)\n  };\n\n  const validatePasswordHandler = () => {\n    dispatchPassword({\n      type: 'INPUT_BLUR'\n    }); //setFormIsValid(emailState.isValid && passwordState.isValid)\n  };\n\n  const submitHandler = event => {\n    event.preventDefault();\n\n    if (formIsValid) {\n      ctx.onLogin(emailState.value, passwordState.value);\n    } else if (!emailIsValid) {\n      emailInputRef.current.activate();\n    }\n  };\n  /*Email and password component are used as two \n  separate components*/\n\n\n  return /*#__PURE__*/_jsxDEV(Card, {\n    className: classes.login,\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: submitHandler,\n      children: [/*#__PURE__*/_jsxDEV(Input, {\n        ref: emailInputRef,\n        type: \"email\",\n        id: \"email\",\n        label: \"email\",\n        isValid: emailState.isValid,\n        value: emailState.value,\n        onChange: emailChangeHandler,\n        onBlur: validateEmailHandler\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        ref: passwordInputRef,\n        type: \"password\",\n        id: \"password\",\n        label: \"password\",\n        isValid: passwordState.isValid,\n        value: passwordState.value,\n        onChange: passwordChangeHandler,\n        onBlur: validatePasswordHandler\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.actions,\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          type: \"submit\",\n          className: classes.btn,\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 128,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Login, \"kkk1e0V089NG14hGd1V/1qwSfnk=\");\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["C:/Users/EbruL/Desktop/Form Validation Project/src/components/Login/Login.js"],"names":["React","useState","useEffect","useReducer","useContext","useRef","Card","classes","Button","AuthContext","Input","emailReducer","state","action","type","value","isValid","includes","passwordReducer","trim","length","Login","formIsValid","setFormIsValid","emailState","dispactEmail","passwordState","dispatchPassword","ctx","emailInputRef","passwordInputRef","identifier","setTimeout","console","log","clearTimeout","emailChangeHandler","event","target","passwordChangeHandler","validateEmailHandler","validatePasswordHandler","submitHandler","preventDefault","onLogin","emailIsValid","current","activate","login","actions","btn"],"mappings":";;;AAAA,OAAOA,KAAP,IACEC,QADF,EAEEC,SAFF,EAGEC,UAHF,EAIEC,UAJF,EAKEC,MALF,QAMO,OANP;AAQA,OAAOC,IAAP,MAAiB,iBAAjB;AACA,OAAOC,OAAP,MAAoB,oBAApB;AACA,OAAOC,MAAP,MAAmB,qBAAnB;AACA,OAAOC,WAAP,MAAwB,0BAAxB;AACA,OAAOC,KAAP,MAAkB,mBAAlB,C,CAEA;AACA;;;;AACA,MAAMC,YAAY,GAAG,CAACC,KAAD,EAAQC,MAAR,KAAmB;AACtC,MAAIA,MAAM,CAACC,IAAP,KAAgB,YAApB,EAAkC;AAChC,WAAO;AAAEC,MAAAA,KAAK,EAAEF,MAAM,CAACE,KAAhB;AAAuBC,MAAAA,OAAO,EAAEH,MAAM,CAACE,KAAP,CAAaE,QAAb,CAAsB,GAAtB;AAAhC,KAAP;AACD;;AACD,MAAIJ,MAAM,CAACC,IAAP,KAAgB,YAApB,EAAkC;AAChC,WAAO;AAAEC,MAAAA,KAAK,EAAEH,KAAK,CAACG,KAAf;AAAsBC,MAAAA,OAAO,EAAEJ,KAAK,CAACG,KAAN,CAAYE,QAAZ,CAAqB,GAArB;AAA/B,KAAP;AACD,GANqC,CAOtC;;;AACA,SAAO;AAAEF,IAAAA,KAAK,EAAE,EAAT;AAAaC,IAAAA,OAAO,EAAE;AAAtB,GAAP;AACD,CATD;;AAUA,MAAME,eAAe,GAAG,CAACN,KAAD,EAAQC,MAAR,KAAmB;AACzC,MAAIA,MAAM,CAACC,IAAP,KAAgB,YAApB,EAAkC;AAChC,WAAO;AAAEC,MAAAA,KAAK,EAAEF,MAAM,CAACE,KAAhB;AAAuBC,MAAAA,OAAO,EAAEH,MAAM,CAACE,KAAP,CAAaI,IAAb,GAAoBC,MAApB,GAA6B;AAA7D,KAAP;AACD;;AACD,MAAIP,MAAM,CAACC,IAAP,KAAgB,YAApB,EAAkC;AAChC,WAAO;AAAEC,MAAAA,KAAK,EAAEH,KAAK,CAACG,KAAf;AAAsBC,MAAAA,OAAO,EAAEJ,KAAK,CAACG,KAAN,CAAYI,IAAZ,GAAmBC,MAAnB,GAA4B;AAA3D,KAAP;AACD,GANwC,CAQzC;;;AACA,SAAO;AAAEL,IAAAA,KAAK,EAAE,EAAT;AAAaC,IAAAA,OAAO,EAAE;AAAtB,GAAP;AACD,CAVD;;AAYA,MAAMK,KAAK,GAAG,MAAM;AAAA;;AAClB;AACF;;AAEE;AACF;AAEE,QAAM,CAACC,WAAD,EAAcC,cAAd,IAAgCtB,QAAQ,CAAC,KAAD,CAA9C,CAPkB,CASlB;AACA;AAEA;;AACA,QAAM,CAACuB,UAAD,EAAaC,YAAb,IAA6BtB,UAAU,CAACQ,YAAD,EAAe;AAC1D;AACAI,IAAAA,KAAK,EAAE,EAFmD;AAG1DC,IAAAA,OAAO,EAAE;AAHiD,GAAf,CAA7C,CAbkB,CAkBlB;;AACA,QAAM,CAACU,aAAD,EAAgBC,gBAAhB,IAAoCxB,UAAU,CAClDe,eADkD,EAElD;AACA;AACEH,IAAAA,KAAK,EAAE,EADT;AAEEC,IAAAA,OAAO,EAAE;AAFX,GAHkD,CAApD;AAQA,QAAMY,GAAG,GAAGxB,UAAU,CAACK,WAAD,CAAtB;AAEA,QAAMoB,aAAa,GAAGxB,MAAM,EAA5B;AACA,QAAMyB,gBAAgB,GAAGzB,MAAM,EAA/B;AAEA;AACF;AACA;;AACEH,EAAAA,SAAS,CAAC,MAAM;AACd;AACA,UAAM6B,UAAU,GAAGC,UAAU,CAAC,MAAM;AAClCC,MAAAA,OAAO,CAACC,GAAR,CAAY,yBAAZ;AACAX,MAAAA,cAAc,CAACC,UAAU,CAACR,OAAX,IAAsBU,aAAa,CAACV,OAArC,CAAd;AACD,KAH4B,EAG1B,GAH0B,CAA7B;AAKA,WAAO,MAAM;AACXiB,MAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ;AACA;AACN;;AACMC,MAAAA,YAAY,CAACJ,UAAD,CAAZ;AACD,KALD;AAMD,GAbQ,EAaN,CAACP,UAAU,CAACR,OAAZ,EAAqBU,aAAa,CAACV,OAAnC,CAbM,CAAT;;AAeA,QAAMoB,kBAAkB,GAAIC,KAAD,IAAW;AACpC;AACAZ,IAAAA,YAAY,CAAC;AAAEX,MAAAA,IAAI,EAAE,YAAR;AAAsBC,MAAAA,KAAK,EAAEsB,KAAK,CAACC,MAAN,CAAavB;AAA1C,KAAD,CAAZ,CAFoC,CAIpC;AACD,GALD;;AAOA,QAAMwB,qBAAqB,GAAIF,KAAD,IAAW;AACvC;AACAV,IAAAA,gBAAgB,CAAC;AAAEb,MAAAA,IAAI,EAAE,YAAR;AAAsBC,MAAAA,KAAK,EAAEsB,KAAK,CAACC,MAAN,CAAavB;AAA1C,KAAD,CAAhB,CAFuC,CAIvC;AACD,GALD;;AAOA,QAAMyB,oBAAoB,GAAG,MAAM;AACjC;AACAf,IAAAA,YAAY,CAAC;AAAEX,MAAAA,IAAI,EAAE;AAAR,KAAD,CAAZ,CAFiC,CAIjC;AACD,GALD;;AAOA,QAAM2B,uBAAuB,GAAG,MAAM;AACpCd,IAAAA,gBAAgB,CAAC;AAAEb,MAAAA,IAAI,EAAE;AAAR,KAAD,CAAhB,CADoC,CAGpC;AACD,GAJD;;AAMA,QAAM4B,aAAa,GAAIL,KAAD,IAAW;AAC/BA,IAAAA,KAAK,CAACM,cAAN;;AACA,QAAIrB,WAAJ,EAAiB;AACfM,MAAAA,GAAG,CAACgB,OAAJ,CAAYpB,UAAU,CAACT,KAAvB,EAA8BW,aAAa,CAACX,KAA5C;AACD,KAFD,MAEO,IAAI,CAAC8B,YAAL,EAAmB;AACxBhB,MAAAA,aAAa,CAACiB,OAAd,CAAsBC,QAAtB;AACD;AACF,GAPD;AASA;AACF;;;AACE,sBACE,QAAC,IAAD;AAAM,IAAA,SAAS,EAAExC,OAAO,CAACyC,KAAzB;AAAA,2BACE;AAAM,MAAA,QAAQ,EAAEN,aAAhB;AAAA,8BACE,QAAC,KAAD;AACE,QAAA,GAAG,EAAEb,aADP;AAEE,QAAA,IAAI,EAAC,OAFP;AAGE,QAAA,EAAE,EAAC,OAHL;AAIE,QAAA,KAAK,EAAC,OAJR;AAKE,QAAA,OAAO,EAAEL,UAAU,CAACR,OALtB;AAME,QAAA,KAAK,EAAEQ,UAAU,CAACT,KANpB;AAOE,QAAA,QAAQ,EAAEqB,kBAPZ;AAQE,QAAA,MAAM,EAAEI;AARV;AAAA;AAAA;AAAA;AAAA,cADF,eAWE,QAAC,KAAD;AACE,QAAA,GAAG,EAAEV,gBADP;AAEE,QAAA,IAAI,EAAC,UAFP;AAGE,QAAA,EAAE,EAAC,UAHL;AAIE,QAAA,KAAK,EAAC,UAJR;AAKE,QAAA,OAAO,EAAEJ,aAAa,CAACV,OALzB;AAME,QAAA,KAAK,EAAEU,aAAa,CAACX,KANvB;AAOE,QAAA,QAAQ,EAAEwB,qBAPZ;AAQE,QAAA,MAAM,EAAEE;AARV;AAAA;AAAA;AAAA;AAAA,cAXF,eAqBE;AAAK,QAAA,SAAS,EAAElC,OAAO,CAAC0C,OAAxB;AAAA,+BACE,QAAC,MAAD;AAAQ,UAAA,IAAI,EAAC,QAAb;AAAsB,UAAA,SAAS,EAAE1C,OAAO,CAAC2C,GAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cArBF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,UADF;AA+BD,CAvHD;;GAAM7B,K;;KAAAA,K;AAyHN,eAAeA,KAAf","sourcesContent":["import React, {\n  useState,\n  useEffect,\n  useReducer,\n  useContext,\n  useRef,\n} from 'react'\n\nimport Card from '../UI/Card/Card'\nimport classes from './Login.module.css'\nimport Button from '../UI/Button/Button'\nimport AuthContext from '../../store/auth-context'\nimport Input from '../UI/Input/Input'\n\n//reducer function should return the new updated state\n//reducer function receives the latest state\nconst emailReducer = (state, action) => {\n  if (action.type === 'USER_INPUT') {\n    return { value: action.value, isValid: action.value.includes('@') }\n  }\n  if (action.type === 'INPUT_BLUR') {\n    return { value: state.value, isValid: state.value.includes('@') }\n  }\n  //default= the field is red\n  return { value: '', isValid: false }\n}\nconst passwordReducer = (state, action) => {\n  if (action.type === 'USER_INPUT') {\n    return { value: action.value, isValid: action.value.trim().length > 6 }\n  }\n  if (action.type === 'INPUT_BLUR') {\n    return { value: state.value, isValid: state.value.trim().length > 6 }\n  }\n\n  //default= the field is red\n  return { value: '', isValid: false }\n}\n\nconst Login = () => {\n  /* const [enteredEmail, setEnteredEmail] = useState('')\n     const [emailIsValid, setEmailIsValid] = useState()  */\n\n  /* const [enteredPassword, setEnteredPassword] = useState('')\n     const [passwordIsValid, setPasswordIsValid] = useState() */\n\n  const [formIsValid, setFormIsValid] = useState(false)\n\n  //Reducer hook structure yönünden state hook'a benzer, ancak onun genişletilmiş halidir.\n  //Reducer hook sayesinde email ve password için yapılan durum kontrolleri tek bir yerden yönetilmiştir.\n\n  //Reducer Hook for email\n  const [emailState, dispactEmail] = useReducer(emailReducer, {\n    //initial State\n    value: '',\n    isValid: null,\n  })\n  //Reducer Hook for password\n  const [passwordState, dispatchPassword] = useReducer(\n    passwordReducer,\n    //initial State\n    {\n      value: '',\n      isValid: null,\n    }\n  )\n  const ctx = useContext(AuthContext)\n\n  const emailInputRef = useRef()\n  const passwordInputRef = useRef()\n\n  /* Related state'lerde effect hook kullanılması gerekir.(değişikliklerin kontrolü için garanti yol) \n     Çünkü bir state'de değişiklik yapılacağı zaman diğer state'in değeri güncellenmemiş olabilir.\n     Effect hook, depedency'lerde bir değişiklik olmadığı sürece içerisindeki kodları çalıştırmaz. */\n  useEffect(() => {\n    //setTimeout metodu, işlemler için gecikme veya delay imkanı sağlar.\n    const identifier = setTimeout(() => {\n      console.log('Checking from validity!')\n      setFormIsValid(emailState.isValid && passwordState.isValid)\n    }, 500)\n\n    return () => {\n      console.log('Cleanup')\n      /*clearTimout metodu setTimeout metodu ile zamanlanmış bir işlemin \n      iptal edilmesi için kullanılan bir metottur.*/\n      clearTimeout(identifier)\n    }\n  }, [emailState.isValid, passwordState.isValid])\n\n  const emailChangeHandler = (event) => {\n    //dispatch user input action\n    dispactEmail({ type: 'USER_INPUT', value: event.target.value })\n\n    //setFormIsValid(event.target.value.includes('@') && passwordState.isValid)\n  }\n\n  const passwordChangeHandler = (event) => {\n    //dispatch user password action\n    dispatchPassword({ type: 'USER_INPUT', value: event.target.value })\n\n    //setFormIsValid(emailState.isValid && event.target.value.trim().length > 6)\n  }\n\n  const validateEmailHandler = () => {\n    //dispatch validating of user input action\n    dispactEmail({ type: 'INPUT_BLUR' })\n\n    //setFormIsValid(emailState.isValid && passwordState.isValid)\n  }\n\n  const validatePasswordHandler = () => {\n    dispatchPassword({ type: 'INPUT_BLUR' })\n\n    //setFormIsValid(emailState.isValid && passwordState.isValid)\n  }\n\n  const submitHandler = (event) => {\n    event.preventDefault()\n    if (formIsValid) {\n      ctx.onLogin(emailState.value, passwordState.value)\n    } else if (!emailIsValid) {\n      emailInputRef.current.activate()\n    }\n  }\n\n  /*Email and password component are used as two \n  separate components*/\n  return (\n    <Card className={classes.login}>\n      <form onSubmit={submitHandler}>\n        <Input\n          ref={emailInputRef}\n          type=\"email\"\n          id=\"email\"\n          label=\"email\"\n          isValid={emailState.isValid}\n          value={emailState.value}\n          onChange={emailChangeHandler}\n          onBlur={validateEmailHandler}\n        ></Input>\n        <Input\n          ref={passwordInputRef}\n          type=\"password\"\n          id=\"password\"\n          label=\"password\"\n          isValid={passwordState.isValid}\n          value={passwordState.value}\n          onChange={passwordChangeHandler}\n          onBlur={validatePasswordHandler}\n        ></Input>\n        <div className={classes.actions}>\n          <Button type=\"submit\" className={classes.btn}>\n            Login\n          </Button>\n        </div>\n      </form>\n    </Card>\n  )\n}\n\nexport default Login\n"]},"metadata":{},"sourceType":"module"}